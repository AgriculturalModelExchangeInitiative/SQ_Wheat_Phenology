<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Model PUBLIC " " "https://raw.githubusercontent.com/AgriculturalModelExchangeInitiative/crop2ml/master/Modeldtd">
<Model id="SQ.WheatPhenology.CumulTTFrom" name="CumulTTFrom" timestep="1" version="1.0">
    <Description>
        <Title>CumulTTFrom Model</Title>
        <Authors>Pierre Martre</Authors>
        <Institution>INRA Montpellier</Institution>
        <Reference>Modeling development phase in the 
                Wheat Simulation Model SiriusQuality.
                See documentation at http://www1.clermont.inra.fr/siriusquality/?page_id=427</Reference>
        <Abstract>Calculate CumulTT </Abstract>
    </Description>
    <Inputs>
        <Input name="calendarMoments" description="List containing appearance of each stage" variablecategory="auxiliary"  datatype="STRINGLIST"  default= "['ZC_00_Sowing']" unit=""  inputtype = "variable"/>
        <Input name="calendarDates" description="List containing  the dates of the wheat developmental phases" variablecategory="auxiliary" datatype="DATELIST" default="[21/3/2007]" unit=""  inputtype = "variable"/>
        <Input name="calendarCumuls" description="list containing for each stage occured its cumulated thermal times" variablecategory="auxiliary"  datatype="DOUBLELIST" default="[0.0]" unit="°C d"  inputtype = "variable"/>
        <Input name="SwitchMaize" description="true if maize"  datatype="INT" min="0" max="1" default="0" unit=""  inputtype = "parameter"/>
        <Input name="cumulTT" description="cumul TT at current date" datatype="DATE" variablecategory="auxiliary" default="8" unit="°C d" inputtype = "variable"/>
      
    </Inputs>
    <Outputs>
        <Output name="cumulTTFromZC_65" description=" cumul TT from Anthesis to current date " variablecategory="auxiliary" datatype="DOUBLE" min="0" max="5000"  unit="°C d"/>
        <Output name="cumulTTFromZC_39" description=" cumul TT from FlagLeafLiguleJustVisible to current date " variablecategory="auxiliary" datatype="DOUBLE" min="0" max="5000"  unit="°C d" />
        <Output name="cumulTTFromZC_91" description=" cumul TT from EndGrainFilling to current date " variablecategory="auxiliary" datatype="DOUBLE" min="0" max="5000"  unit="°C d" />
    	
    </Outputs>
    
    <Algorithm  language="C#" platform="" filename="CumulFrom.cs" />
	<Algorithm  language="python" platform="" filename="CumulFrom.py" />
    <Algorithm  language="Java" platform="" filename="CumulFrom.java"/>
	<Algorithm  language="Cython" platform="" filename="CumulFrom.pyx"/>
    <Algorithm  language="R" platform="" filename="CumulFrom.r"/>
	<Algorithm  language="C++" platform="" filename="CumulFrom.cpp"  />

    <Parametersets>
        <Parameterset name="wheat" description="some values in there" >
        	<Param name="SwitchMaize">0</Param>
        </Parameterset>
     </Parametersets>
     <Testsets>
        <Testset name="check wheat model" parameterset = "wheat" description="some values in there" >
        	<Test name ="test_wheat1">
 				<InputValue name="calendarMoments">['Sowing', 'Emergence', 'FloralInitiation', 'FlagLeafLiguleJustVisible', 'Heading', 'Anthesis']</InputValue>
                <InputValue name="calendarDates">, ['21/3/2007', '27/3/2007', '9/4/2007', '29/4/2007', '5/5/2007', '11/5/2007']</InputValue>
                <InputValue name="calendarCumuls">[0.0, 112.330110409888, 354.582294511779, 741.510096671757, 853.999637026622, 954.59002776961]</InputValue>
				<InputValue name="cumulTT">972.970888983105</InputValue>
				<OutputValue name="cumulTTFromZC_65" precision ="2">18.38</OutputValue>
				<OutputValue name="cumulTTFromZC_39" precision ="2">231.46</OutputValue>
				<OutputValue name="cumulTTFromZC_91" precision ="2">0</OutputValue>
        	</Test>
        </Testset>
      </Testsets>
 	
</Model>
